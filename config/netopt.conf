# NETOPT Configuration File
# All configuration values with descriptions and defaults

# ============================================================================
# CONNECTION PRIORITIES
# ============================================================================
# Lower values = higher priority
# These determine preference when multiple connections have similar performance

PRIORITY_ETHERNET=10
PRIORITY_WIFI=20
PRIORITY_MOBILE=30
PRIORITY_UNKNOWN=40

# ============================================================================
# LATENCY AND PERFORMANCE TESTING
# ============================================================================
# Maximum acceptable latency in milliseconds
# Connections slower than this receive minimum weight
MAX_LATENCY=200

# Number of ping packets to send when testing gateway
PING_COUNT=3

# Timeout for each ping in seconds
PING_TIMEOUT=1

# ============================================================================
# WEIGHT CALCULATION
# ============================================================================
# Minimum and maximum weight values for load balancing
MIN_WEIGHT=1
MAX_WEIGHT=20

# Divisor for converting latency to weight
# Formula: weight = (MAX_LATENCY - latency) / LATENCY_DIVISOR
LATENCY_DIVISOR=10

# Priority multipliers (applied to latency-based weight)
ETHERNET_MULTIPLIER=2
WIFI_MULTIPLIER=1
MOBILE_MULTIPLIER=0.5

# ============================================================================
# DNS CONFIGURATION
# ============================================================================
# Primary, secondary, and tertiary DNS servers
# Using Cloudflare (1.1.1.1) and Google (8.8.8.8) by default

DNS_PRIMARY="1.1.1.1"
DNS_SECONDARY="1.0.0.1"
DNS_TERTIARY="8.8.8.8"

# ============================================================================
# TCP OPTIMIZATION SETTINGS
# ============================================================================
# Enable TCP Fast Open (0=disabled, 1=client, 2=server, 3=both)
TCP_FASTOPEN=3

# TCP congestion control algorithm (bbr, cubic, reno, etc.)
TCP_CONGESTION="bbr"

# Maximum receive buffer size in bytes (16MB default)
RMEM_MAX=16777216

# Maximum send buffer size in bytes (16MB default)
WMEM_MAX=16777216

# Disable saving of TCP metrics between connections
TCP_NO_METRICS_SAVE=1

# ============================================================================
# INTERFACE DETECTION AND FILTERING
# ============================================================================
# Regular expression pattern for interfaces to exclude from optimization
# This excludes loopback, Docker, virtual ethernet, and bridge interfaces
EXCLUDE_INTERFACES="^lo$|^docker|^veth|^br-|^virbr"

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
# Log level: DEBUG, INFO, WARN, ERROR, FATAL
LOG_LEVEL="INFO"

# Maximum log file size in bytes before rotation (10MB default)
LOG_MAX_SIZE=10485760

# Number of rotated log files to keep
LOG_RETAIN_COUNT=5

# ============================================================================
# BEHAVIOR FLAGS
# ============================================================================
# Automatically restore previous routes if optimization fails
AUTO_RESTORE_ON_FAILURE=1

# Enable TCP kernel parameter optimization
ENABLE_TCP_OPTIMIZATION=1

# Enable DNS configuration management
ENABLE_DNS_CONFIGURATION=1

# Use dnsmasq for DNS caching if available
USE_DNSMASQ_IF_AVAILABLE=1

# ============================================================================
# ADVANCED SETTINGS
# ============================================================================
# Minimum number of active connections required for load balancing
# If fewer than this are found, keeps single best connection
MIN_CONNECTIONS_FOR_BALANCING=1

# Enable IPv6 support (experimental)
ENABLE_IPV6=0

# Interface state check retry attempts
INTERFACE_CHECK_RETRIES=3

# Delay between interface check retries in seconds
INTERFACE_CHECK_DELAY=1
